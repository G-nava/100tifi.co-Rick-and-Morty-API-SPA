# name: integracion continua con node.js
name: integracion continua con node.js

on:
  push:
    branches: [ main ]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:

    - uses: actions/checkout@v2
    - uses: actions/setup-node@v1
      with:
        node-version: 12.x
    - run: npm ci
    - run: npm test
    - run: npm run build
    - name: Deploy to GitHub Pages

          # This is the branch you wish to deploy to, for example gh-pages or docs.
    - branch: gh-pages
          # The folder in your repository that you want to deploy. If your build script compiles into a directory named build you would put it here. Folder paths cannot have a leading / or ./. If you wish to deploy the root directory you can place a . here.
    - folder: dist

    # deploy:
    #   provider: pages
    #   edge: true
    #   skip-cleanup : true
    #   keep-history: true
    #   local-dir: dist/
    #   target-brach: gh-pages
    #   commit_message: "Deploy Release"
    #   # on:
    #     #   branch: main





 
# language: node_js
# cache:
#   directories:
#     - ~/.npm
# node_js:
#   - '12'
# git:
#   depth: 3
# script:
#   - yarn build
# deploy:
#   provider: pages
#   edge: true,
#   skip-cleanup : true
#   keep-history: true
#   github-token: $GITHUB_TOKEN
#   local-dir: dist/
#   target-brach: gh-pages
#   commit_message: "Deploy Release"
#   on:
#     branch: master